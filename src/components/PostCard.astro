---
const { post } = Astro.props;
---

<article class="lw-post-card">
  <header class="lw-post-header">
    <a href={`/post/${post.id}`} class="lw-post-title">
      {post.title}
    </a>
    <div class="lw-post-meta">
      <span>By {post.username}</span>
      <time datetime={post.created_at}>
        {new Date(post.created_at).toLocaleDateString(undefined, {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
        })}
      </time>
    </div>
  </header>

  <section class="lw-post-excerpt">
    {post.content.length > 250 
      ? post.content.slice(0, 250) + '…' 
      : post.content}
  </section>
</article>

<style>
  /* Full‐width, centered column */
  .lw-post-card {
    max-width: 720px;
    margin: 3rem auto;
    padding: 0;
    border-top: 1px solid #ddd;     /* subtle separator */
  }

  /* Title & meta in a single row with plenty of breathing room */
  .lw-post-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    flex-wrap: wrap;
    gap: 1rem;
    padding: 2rem 0 1rem;
  }

  .lw-post-title {
    font-family: 'Georgia', serif;
    font-size: 2rem;
    line-height: 1.2;
    color: #111;
    text-decoration: none;
  }

  .lw-post-title:hover {
    text-decoration: underline;
  }

  .lw-post-meta {
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 0.9rem;
    color: #666;
    display: flex;
    gap: 0.5rem;
  }

  .lw-post-meta time {
    font-style: normal;
  }

  /* Excerpt styled like an opening paragraph */
  .lw-post-excerpt {
    font-family: 'Georgia', serif;
    font-size: 1.125rem;
    line-height: 1.6;
    color: #222;
    margin-bottom: 2rem;
  }
</style>
<!-- Update markup to wrap title and meta -->
